document.addEventListener("DOMContentLoaded",function(){var currentPage=1;var postsPerPage=parseInt(document.getElementById("postsPerPage").value);var maxPages=parseInt(document.querySelector(".articles_blogs").getAttribute("data-max-pages"));console.log(maxPages)
var topOfArticles=document.querySelector(".top_of_articles");function generatePaginationLinks(){var paginationList=document.querySelector(".pagination ul");paginationList.innerHTML="";var startPage=1;var endPage=maxPages;var maxDisplayedPages=3;if(maxPages>maxDisplayedPages){if(currentPage>maxDisplayedPages-1){startPage=currentPage-1;}
if(currentPage<maxPages-maxDisplayedPages+2){endPage=currentPage+maxDisplayedPages-2;}}
if(currentPage>1){var prevButton=document.createElement("li");prevButton.innerHTML='<a id="prevButton" rel="prev" class="prev-button active" data-href="/pagination/page/'+(currentPage-1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.3396 12.0662V11.0309C19.3396 10.9412 19.2365 10.8917 19.1669 10.9466L13.1294 15.6622C13.0781 15.7021 13.0365 15.7532 13.008 15.8115C12.9794 15.8699 12.9646 15.9340 12.9646 15.999C12.9646 16.0640 12.9794 16.1281 13.008 16.1865C13.0365 16.2449 13.0781 16.2960 13.1294 16.3359L19.1669 21.0515C19.2378 21.1064 19.3396 21.0568 19.3396 20.9671V19.9318C19.3396 19.8662 19.3088 19.8033 19.2579 19.7631L14.4365 15.9997L19.2579 12.235C19.3088 12.1948 19.3396 12.1318 19.3396 12.0662Z" fill="#D9D9D9"></path></svg></a>';prevButton.addEventListener("click",function(event){currentPage--;displayPosts(currentPage);generatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(prevButton);}else{prevButton=document.createElement("li");prevButton.innerHTML='<a id="prevButton" rel="prev" class="prev-button" data-href="/pagination/page/'+(currentPage-1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.3396 12.0662V11.0309C19.3396 10.9412 19.2365 10.8917 19.1669 10.9466L13.1294 15.6622C13.0781 15.7021 13.0365 15.7532 13.008 15.8115C12.9794 15.8699 12.9646 15.9340 12.9646 15.999C12.9646 16.0640 12.9794 16.1281 13.008 16.1865C13.0365 16.2449 13.0781 16.2960 13.1294 16.3359L19.1669 21.0515C19.2378 21.1064 19.3396 21.0568 19.3396 20.9671V19.9318C19.3396 19.8662 19.3088 19.8033 19.2579 19.7631L14.4365 15.9997L19.2579 12.235C19.3088 12.1948 19.3396 12.1318 19.3396 12.0662Z" fill="#D9D9D9"></path></svg></a>';prevButton.addEventListener("click",function(event){currentPage--;displayPosts(currentPage);generatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});prevButton.style.pointerEvents='none';paginationList.appendChild(prevButton);}
if(startPage>1){var firstPageLink=document.createElement("li");firstPageLink.innerHTML='<a data-href="/pagination/page/1">1</a>';paginationList.appendChild(firstPageLink);if(startPage>2){var ellipsis=document.createElement("li");ellipsis.innerHTML='<span>...</span>';paginationList.appendChild(ellipsis);}}
for(var i=startPage;i<=endPage;i++){var listItem=document.createElement("li");var link=document.createElement("a");link.setAttribute("data-href","/pagination/page/"+i);link.textContent=i;link.addEventListener("click",function(event){currentPage=parseInt(this.textContent);displayPosts(currentPage);generatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});if(i===currentPage){listItem.classList.add("current");}
listItem.appendChild(link);paginationList.appendChild(listItem);}
if(endPage<maxPages){if(endPage<maxPages-1){var ellipsis=document.createElement("li");ellipsis.innerHTML='<span>...</span>';paginationList.appendChild(ellipsis);}
var lastPageLink=document.createElement("li");lastPageLink.innerHTML='<a data-href="/pagination/page/'+maxPages+'">'+maxPages+'</a>';paginationList.appendChild(lastPageLink);}
if(currentPage<maxPages){var nextButton=document.createElement("li");nextButton.innerHTML='<a id="nextButton" rel="next" class="next-button active" data-href="/pagination/page/'+(currentPage+1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="#000000"><path d="M19.8978 15.6628L13.8603 10.9472C13.8445 10.9348 13.8255 10.927 13.8056 10.9249C13.7856 10.9228 13.7654 10.9263 13.7474 10.9351C13.7294 10.944 13.7142 10.9577 13.7036 10.9747C13.6930 10.9918 13.6874 11.0115 13.6875 11.0316V12.0668C13.6875 12.1325 13.7183 12.1954 13.7692 12.2356L18.5906 16.0003L13.7692 19.765C13.7170 19.8052 13.6875 19.8682 13.6875 19.9338V20.9691C13.6875 21.0588 13.7906 21.1083 13.8603 21.0534L19.8978 16.3378C19.9491 16.2978 19.9906 16.2466 20.0191 16.1881C20.0477 16.1296 20.0625 16.0654 20.0625 16.0003C20.0625 15.9352 20.0477 15.8710 20.0191 15.8125C19.9906 15.7540 19.9491 15.7028 19.8978 15.6628Z" fill="#D9D9D9"></path></svg></a>';nextButton.addEventListener("click",function(event){currentPage++;displayPosts(currentPage);generatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(nextButton);}else{nextButton=document.createElement("li");nextButton.innerHTML='<a id="nextButton" rel="next" class="next-button" data-href="/pagination/page/'+(currentPage+1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="#000000"><path d="M19.8978 15.6628L13.8603 10.9472C13.8445 10.9348 13.8255 10.927 13.8056 10.9249C13.7856 10.9228 13.7654 10.9263 13.7474 10.9351C13.7294 10.9440 13.7142 10.9577 13.7036 10.9747C13.6930 10.9918 13.6874 11.0115 13.6875 11.0316V12.0668C13.6875 12.1325 13.7183 12.1954 13.7692 12.2356L18.5906 16.0003L13.7692 19.7650C13.7170 19.8052 13.6875 19.8682 13.6875 19.9338V20.9691C13.6875 21.0588 13.7906 21.1083 13.8603 21.0534L19.8978 16.3378C19.9491 16.2978 19.9906 16.2466 20.0191 16.1881C20.0477 16.1296 20.0625 16.0654 20.0625 16.0003C20.0625 15.9352 20.0477 15.8710 20.0191 15.8125C19.9906 15.7540 19.9491 15.7028 19.8978 15.6628Z" fill="#D9D9D9"></path></svg></a>';nextButton.addEventListener("click",function(event){currentPage++;displayPosts(currentPage);generatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});nextButton.style.pointerEvents='none';paginationList.appendChild(nextButton);}}
function scrollToTopOfArticles(){var articlesElement=document.getElementById("articles");if(articlesElement){var startPosition=window.pageYOffset;var targetPosition=articlesElement.offsetTop;var distance=targetPosition-startPosition+0;if(window.outerWidth>680){distance=targetPosition-startPosition+0;}else{distance=targetPosition-startPosition+0;}
var duration=500;var startTime;function scrollAnimation(currentTime){if(startTime===undefined){startTime=currentTime;}
var timeElapsed=currentTime-startTime;var progress=Math.min(timeElapsed/duration,1);var ease=easeOutQuad(progress);window.scrollTo(0,startPosition+distance);if(timeElapsed<duration){requestAnimationFrame(scrollAnimation);}}
function easeOutQuad(t){return t*(2-t);}
requestAnimationFrame(scrollAnimation);}}
function displayPosts(page){var postsPerPage=page===1?22:21;var cards=document.querySelectorAll(".card-blog-outer");for(var i=0;i<cards.length;i++){cards[i].style.display="none";}
var startIndex=(page-1)*postsPerPage;var endIndex=page*postsPerPage;if(page>1){startIndex+=1;endIndex+=1;}
for(var i=startIndex;i<endIndex;i++){if(cards[i]){cards[i].style.display="block";}}}
function updatePaginationLinks(event){var paginationList=document.querySelector(".pagination ul");paginationList.innerHTML="";var numPageLinksToShow=3;var startPage=Math.max(1,currentPage-1);var endPage=Math.min(maxPages,startPage+numPageLinksToShow-1);if(currentPage>1){var prevButton=document.createElement("li");prevButton.innerHTML='<a id="prevButton" rel="prev" class="prev-button active" data-href="/pagination/page/'+(currentPage-1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.3396 12.0662V11.0309C19.3396 10.9412 19.2365 10.8917 19.1669 10.9466L13.1294 15.6622C13.0781 15.7021 13.0365 15.7532 13.008 15.8115C12.9794 15.8699 12.9646 15.9340 12.9646 15.999C12.9646 16.0640 12.9794 16.1281 13.008 16.1865C13.0365 16.2449 13.0781 16.2960 13.1294 16.3359L19.1669 21.0515C19.2378 21.1064 19.3396 21.0568 19.3396 20.9671V19.9318C19.3396 19.8662 19.3088 19.8033 19.2579 19.7631L14.4365 15.9997L19.2579 12.235C19.3088 12.1948 19.3396 12.1318 19.3396 12.0662Z" fill="#D9D9D9"></path></svg></a>';prevButton.addEventListener("click",function(event){currentPage--;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(prevButton);}else{prevButton=document.createElement("li");prevButton.innerHTML='<a id="prevButton" rel="prev" class="prev-button" data-href="#"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.3396 12.0662V11.0309C19.3396 10.9412 19.2365 10.8917 19.1669 10.9466L13.1294 15.6622C13.0781 15.7021 13.0365 15.7532 13.008 15.8115C12.9794 15.8699 12.9646 15.9340 12.9646 15.999C12.9646 16.0640 12.9794 16.1281 13.008 16.1865C13.0365 16.2449 13.0781 16.2960 13.1294 16.3359L19.1669 21.0515C19.2378 21.1064 19.3396 21.0568 19.3396 20.9671V19.9318C19.3396 19.8662 19.3088 19.8033 19.2579 19.7631L14.4365 15.9997L19.2579 12.235C19.3088 12.1948 19.3396 12.1318 19.3396 12.0662Z" fill="#D9D9D9"></path></svg></a>';prevButton.addEventListener("click",function(event){currentPage--;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(prevButton);prevButton.style.pointerEvents='none';}
if(startPage>1){var firstPageLink=document.createElement("li");var firstPage=1;firstPageLink.innerHTML='<a data-href="/pagination/page/'+firstPage+'"><span class="page-numbers">'+firstPage+'</span></a>';firstPageLink.addEventListener("click",function(event){currentPage=firstPage;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(firstPageLink);}
if(startPage>2){var ellipsis=document.createElement("li");ellipsis.innerHTML='<span class="pagination-dots">...</span>';ellipsis.addEventListener("click",function(event){event.preventDefault();if(currentPage-4>1){currentPage-=4;}else{currentPage=1;}
displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();});paginationList.appendChild(ellipsis);}
for(var i=startPage;i<=endPage;i++){var listItem=document.createElement("li");var link=document.createElement("a");var span=document.createElement("span");link.setAttribute("data-href","/pagination/page/"+i);span.classList.add("page-numbers");span.textContent=i;link.appendChild(span);listItem.appendChild(link);link.addEventListener("click",function(event){currentPage=parseInt(this.textContent);displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});if(i===currentPage){listItem.classList.add("current");}
listItem.appendChild(link);if(i===currentPage){span.classList.add("current");}
paginationList.appendChild(listItem);}
if(endPage<maxPages-1){var ellipsis=document.createElement("li");ellipsis.innerHTML='<span class="pagination-dots">...</span>';ellipsis.addEventListener("click",function(event){event.preventDefault();if(currentPage+4<maxPages){currentPage+=4;}else{currentPage=maxPages;}
displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();});paginationList.appendChild(ellipsis);}
if(endPage<maxPages){var lastPage=maxPages;var lastPageLink=document.createElement("li");lastPageLink.innerHTML='<a data-href="/pagination/page/'+lastPage+'"><span class="page-numbers">'+lastPage+'</span></a>';lastPageLink.addEventListener("click",function(event){currentPage=lastPage;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(lastPageLink);}
if(currentPage<maxPages){var nextButton=document.createElement("li");nextButton.innerHTML='<a id="nextButton" rel="next" class="next-button active" data-href="/pagination/page/'+(currentPage+1)+'"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.8978 15.6628L13.8603 10.9472C13.8445 10.9348 13.8255 10.927 13.8056 10.9249C13.7856 10.9228 13.7654 10.9263 13.7474 10.9351C13.7294 10.944 13.7142 10.9577 13.7036 10.9747C13.6930 10.9918 13.6874 11.0115 13.6875 11.0316V12.0668C13.6875 12.1325 13.7183 12.1954 13.7692 12.2356L18.5906 16.0003L13.7692 19.765C13.7170 19.8052 13.6875 19.8682 13.6875 19.9338V20.9691C13.6875 21.0588 13.7906 21.1083 13.8603 21.0534L19.8978 16.3378C19.9491 16.2978 19.9906 16.2466 20.0191 16.1881C20.0477 16.1296 20.0625 16.0654 20.0625 16.0003C20.0625 15.9352 20.0477 15.8710 20.0191 15.8125C19.9906 15.7540 19.9491 15.7028 19.8978 15.6628Z" fill="#D9D9D9"></path></svg></a>';nextButton.addEventListener("click",function(event){currentPage++;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});paginationList.appendChild(nextButton);}else{nextButton=document.createElement("li");nextButton.innerHTML='<a id="nextButton" rel="next" class="next-button" data-href="#"><svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.8978 15.6628L13.8603 10.9472C13.8445 10.9348 13.8255 10.927 13.8056 10.9249C13.7856 10.9228 13.7654 10.9263 13.7474 10.9351C13.7294 10.944 13.7142 10.9577 13.7036 10.9747C13.6930 10.9918 13.6874 11.0115 13.6875 11.0316V12.0668C13.6875 12.1325 13.7183 12.1954 13.7692 12.2356L18.5906 16.0003L13.7692 19.765C13.7170 19.8052 13.6875 19.8682 13.6875 19.9338V20.9691C13.6875 21.0588 13.7906 21.1083 13.8603 21.0534L19.8978 16.3378C19.9491 16.2978 19.9906 16.2466 20.0191 16.1881C20.0477 16.1296 20.0625 16.0654 20.0625 16.0003C20.0625 15.9352 20.0477 15.8710 20.0191 15.8125C19.9906 15.7540 19.9491 15.7028 19.8978 15.6628Z" fill="#D9D9D9"></path></svg></a>';nextButton.addEventListener("click",function(event){currentPage++;displayPosts(currentPage);updatePaginationLinks();updateTopOfArticles();scrollToTopOfArticles();event.preventDefault();});nextButton.style.pointerEvents='none';paginationList.appendChild(nextButton);}}
function updateTopOfArticles(){if(currentPage===1){topOfArticles.classList.add("active");}else{topOfArticles.classList.remove("active");}}
displayPosts(currentPage);updateTopOfArticles();updatePaginationLinks();const imagesToLazyLoad=document.querySelectorAll('.lozad');const observer=lozad(imagesToLazyLoad,{loaded:function(el){el.classList.add('loaded');},});observer.observe();});